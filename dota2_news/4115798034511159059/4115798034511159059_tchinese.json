{
  "gid": "4115798034511159059",
  "clan_steamid": "103582791433224455",
  "event_name": "兵線之間：如何阻斷阻斷服務",
  "event_type": 28,
  "appid": 0,
  "server_address": null,
  "server_password": null,
  "rtime32_start_time": 1709684460,
  "rtime32_end_time": 1709684820,
  "comment_count": 0,
  "creator_steamid": "0",
  "last_update_steamid": "0",
  "event_notes": "see announcement body",
  "jsondata": {
    "localized_subtitle": [],
    "localized_summary": [],
    "localized_title_image": [],
    "localized_capsule_image": [
      "0d69f196c6fa3b398260d8448d0f67f5923331c3.png"
    ],
    "bSaleEnabled": false,
    "sale_show_creator": false,
    "sale_sections": [],
    "sale_browsemore_text": "",
    "sale_browsemore_url": "",
    "sale_browsemore_color": "",
    "sale_browsemore_bgcolor": "",
    "localized_sale_header": [],
    "localized_sale_overlay": [],
    "localized_sale_product_banner": [],
    "localized_sale_product_mobile_banner": [],
    "localized_sale_logo": [],
    "sale_font": "",
    "sale_background_color": "",
    "sale_header_offset": 530,
    "referenced_appids": [],
    "bBroadcastEnabled": false,
    "broadcastChatSetting": "hide",
    "default_broadcast_title": "#Broadcast_default_title_dev",
    "localized_broadcast_title": [],
    "localized_broadcast_left_image": [],
    "localized_broadcast_right_image": [],
    "broadcast_whitelist": [],
    "bScheduleEnabled": false,
    "scheduleEntries": [],
    "valve_access_log": [
      {
        "strSteamID": "76561199113010392",
        "rtUpdated": 1709686550
      },
      {
        "strSteamID": "76561198042665686",
        "rtUpdated": 1709583176
      },
      {
        "strSteamID": "76561198093408953",
        "rtUpdated": 1709675626
      },
      {
        "strSteamID": "76561198166130601",
        "rtUpdated": 1709853673
      }
    ]
  },
  "announcement_body": {
    "gid": "4115798034511159060",
    "clanid": "3703047",
    "posterid": "0",
    "headline": "兵線之間：如何阻斷阻斷服務",
    "posttime": 1709684506,
    "updatetime": 1709853673,
    "body": [
      "[img]{STEAM_CLAN_IMAGE}/3703047/4d7209c869530f3e0f737e28a1156e7017314660.jpg[/img]",
      "[b]歡迎回到「兵線之間」，一個由我們開發團隊成員主筆的網誌內容，為大家詳細說明在開發像 Dota 這樣獨特的遊戲時，我們遇到的一些挑戰、程式錯誤修正，以及偶爾出現的意外驚喜。[/b]",
      "這是一個關於網際網路的故事，講述它如何在好不容易能夠運作時，表現卻不如預期，但還不包括它根本無法運作的時候。 這是一個關於網際網路為何無法供我們的顧客使用，以及我們如何將其修復的故事。",
      "網際網路是個比大家想像中更不受控制的領域。 在遠離雙重驗證識別和可信任 Cookie 的安全保護之處，可以說是一個化外之地，充滿著身份不明的惡意人士——技術還會日益精進，單純只是想讓別人過得更糟，沒有其它原因，就因為做得到。",
      "在 2014 年，這些人所使用的方法是分散式阻斷服務（DDoS）攻擊。 「分散式」指大量網路主機惡意地以流量集中衝擊一個特定目標 IP，以癱瘓其網路堆疊（Network Stack）。 這稱為巨流量攻擊（Volumetric Attack），而目的並非嘗試入侵網路。 只是為了阻斷服務。 分散式阻斷服務意思就是讓正規使用者在想要使用正規服務時，卻被惡意流量阻斷而無法取得服務的問題。",
      "2014 年底發生的 DDoS 攻擊的問題在於，那並不是出自擁有高等電腦科學學位並精於數據外洩的超級駭客之手。 任何想用付費服務或機器人代為發出攻擊的人都可以辦到。 攻擊企圖也很明顯。 雖然有些人純粹以製造破壞為樂，但一些人卻另有動機：DDoS 攻擊是中止一場自己或支持的人正要輸掉的比賽萬無一失的方法。 這不再只是偶爾發生令人生氣的情況。 這逐漸變成了直接攻擊任何玩家競技遊戲的手段。",
      "在 2015 年的頭幾個月，我們發現對 Dota 和 CS:GO 的 DDoS 攻擊大幅增加，而其它公司也出現相同情況。 有人突然讓任何人都能輕易發出這些攻擊。",
      "2015 年 8 月，國際錦標賽受到 DDoS 攻擊干擾。 雖然參賽的職業選手未受影響，但播報員有超過兩小時的時間無法即時觀賽以作出現場解說和分析評論。 電視直播形式的串流變得無法進行。 選手突然變成在一個隔絕的空間比賽。 這是一場有數百萬人在觀看，牽涉數百萬美金的專業電競賽事，卻被不明人士用五塊美金的軟體就攪亂了。 這是一個 Valve 不能忽視的問題。",
      "[img]{STEAM_CLAN_IMAGE}/3703047/c63292d66774594361f081935573b7567dbfe7b6.jpg[/img]",
      "在找到有效應對 DDoS 攻擊的方法前，我們嘗試了不同的方法。 最初，我們嘗試使用強大的網路交換器來過濾流量。 不幸的是，這種過濾方式本質上很難用於遊戲流量。 接收來自任意 IP 地址、未經請求的 UDP（使用者資料包協定）流量是遊戲伺服器的本質。 想像有一間會為您過濾掉無用垃圾郵件的郵局。 再想像您是一位咨詢專欄作家，在正常狀況下，您會不斷收到大量來自陌生人的郵件。 郵局就無法為您分出哪些是垃圾郵件了。 這與遊戲伺服器處理流量的情況相似。 此外，UDP 封包的來源 IP 並不受防護，所以可輕易偽造。 郵局甚至無法根據信封的回郵地址來推測，因為那是垃圾郵件的寄件人偽造的。",
      "Steam 為遞送大量遊戲內容，建立了龐大的網路。  我們一直有善用此網路透過專用連結遞送遊戲流量、獲得良好的點對點連線，並確保有施行網路工程最佳作法等等。 這讓玩家享有低延遲時間，但無法抵禦 DDoS 攻擊。 問題在於 UPD 協定並不安全，所以就算我們有自己的網路，亦不是私密的。",
      "要防止駭客使用我們的網路攻擊我們的伺服器，我們需要控制所有入口並進行防護。 為此我們建立了用於遊戲流量的代理伺服器，為每個資料封包尋找經由轉送站穿越網路的路徑。 現在當用戶端想與遊戲伺服器溝通時，需透過已驗證的代理轉送站將流量傳送至遊戲伺服器。 這代表伺服器的 IP 位址永遠是隱藏的——駭客便不知道要攻擊何處了。",
      "繼續用我們剛才提到的老式郵局比喻，現在那些寄垃圾郵件的人失去了寄送地址。 他們只能將郵件寄到該地區的每個郵局要求他們幫忙寄件，但在沒有授權的情況下，郵局不會這樣做 （再者，郵局會覺得有人想寄十萬封信給同一個人十分可疑）。",
      "[img]{STEAM_CLAN_IMAGE}/3703047/d4e0ef987a9df51ac53309c6a1483cfcdd6749fd.jpg[/img]",
      "但不是可以直接攻擊轉送站嗎？ 嚴格上來說，可以。 但是我們基本上有無數的轉送站，而且我們打造它們時做好了防範攻擊的措施。 「轉送站」說白了就是在執行軟體的電腦。 它可能會受到攻擊而被迫斷線，不過協定的設計已經考慮到這一點。 如果用戶端在嘗試進行遊戲時與轉送站的連線中斷，它會直接連線至另一個站點。 轉送站就像是數百個散佈於世界各地的小兵，唯一的目的就是保護遊戲伺服器 （重要的是，要癱瘓轉送站並不是件容易的事。 它們設計良好，且位於網路中的特定位置，所以就算它們的用途是當作一道被斷線也無妨的防線，至今卻還沒有斷線過）。",
      "這項解決方案既直接又有效。 在此之前，若有人想干擾遊戲進行，只需要癱瘓單一遊戲伺服器即可做到（達成門檻十分低）。 現在，他們基本上必須癱瘓整個資料中心——達成門檻變得非常、非常、非常高。 是否還有可以達成這點的攻擊？ 當然有。 這樣的攻擊，在網路上花五美金就能買到嗎？ 沒辦法。 如此複雜的攻擊所需要的花費超出了大部分人能夠負擔的價格範圍。",
      "隨著新系統上線運作，我們也有了新的領悟：若我們能控制自己的私人網路，就不會受限於一般網際網路的運作方式。 我們能夠利用這點，打造更良好的顧客體驗。 在一般的網際網路上，將封包從一個 IP 位址傳送到另一個位址時，使用的路由是由邊界閘道協定（Border Gateway Protocol，BGP）來決定。 這是一種路由演算機制，決定封包穿越網路的途徑，而我們無法改變其所挑選的路徑。",
      "但有了以全球數百個轉送站和資料中心組成的私人網路後，基本上，我們就能自行選擇用戶端到遊戲伺服器之間的路徑——而這通常是比預設路徑還快的捷徑。 若使用 Steam 資料包轉送（SDR），則 Steam 內嵌介面會顯示延遲時間和我們提供的路徑，讓您可以親自了解我們如何最佳化這個流程。",
      "[img]{STEAM_CLAN_IMAGE}/3703047/82554298cf9ed002daf92613c81d19d6072ef09c.jpg[/img]",
      "一項最初用於保護 Dota 遊戲伺服器的功能，現已遠超出任何人的想像。 SDR 網路通常每秒遞送多達 1 億 4 千萬個封包和 550 GBit。 我們在 31 個資料中心設有轉送站，容量超過 5 TBit。 現在我們稱為 Steam 資料包轉送的功能不僅可以防止 DDoS 攻擊，還可以加強每個 Dota 顧客的網路連線及降低延遲。 而且這不僅只適用於 Dota，而是 Steam 上任何希望使用的遊戲都可以使用。",
      "希望您喜歡這次 Dota 的兵線之間所提供的幕後趣聞。 本次內容的技術性層面較多，感謝您能耐心讀完！ 隨時歡迎您告訴我們，您希望下次可見到哪些內容。"
    ],
    "commentcount": 313,
    "tags": [
      "mod_reviewed",
      "ModAct_1415588329_1709686042_0",
      "ModAct_1415588329_1709693712_4",
      "ModAct_487176015_1709756813_4",
      "ModAct_1426387032_1709854961_4"
    ],
    "language": 7,
    "hidden": 0,
    "forum_topic_id": "4288061352804807411",
    "event_gid": "4115798034511159059",
    "voteupcount": 7705,
    "votedowncount": 475,
    "ban_check_result": 0,
    "banned": 0
  },
  "published": 1,
  "hidden": 0,
  "rtime32_visibility_start": 1709684460,
  "rtime32_visibility_end": 0,
  "broadcaster_accountid": 0,
  "follower_count": 0,
  "ignore_count": 0,
  "forum_topic_id": "4288061352804807411",
  "rtime32_last_modified": 1715113657,
  "news_post_gid": "0",
  "rtime_mod_reviewed": 1709854961,
  "featured_app_tagid": 0,
  "referenced_appids": [],
  "build_id": 0,
  "build_branch": "",
  "votes_up": 7705,
  "votes_down": 475,
  "comment_type": "ForumTopic",
  "gidfeature": "1636418037459185108",
  "gidfeature2": "4288061352804807411",
  "clan_steamid_original": "103582791433224455"
}